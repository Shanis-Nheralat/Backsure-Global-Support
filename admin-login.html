<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="noindex, nofollow" name="robots"/>
<title>Login | Backsure Global Support</title>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&amp;display=swap" rel="stylesheet"/>
<link href="favicon.ico" rel="icon" type="image/x-icon"/>
<!-- Font Awesome for icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet"/>
<style>
    /* Color variables */
    :root {
      --primary-color: #062767;
      --primary-color-dark: #051d4a;
      --primary-color-light: #0b3a84;
      --accent-color: #b19763;
      --accent-color-dark: #a48852;
      --accent-color-light: #c8b08c;
      --text-light: #ffffff;
      --text-dark: #333333;
      --text-gray: #eaeaea;
      --border-color: rgba(255, 255, 255, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      line-height: 1.6;
    }

    /* Login specific styles */
    .login-body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #062767 0%, #0b3a84 100%);
    }
    
    .login-container {
      max-width: 450px;
      width: 90%;
      margin: 30px auto;
    }
    
    .login-box {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      overflow: hidden;
    }
    
    .login-logo {
      text-align: center;
      padding: 30px 0;
      background-color: #f8f9fa;
      border-bottom: 1px solid #eee;
    }
    
    .login-logo img {
      height: 60px;
    }
    
    .login-form-container {
      padding: 30px;
      display: none;
    }
    
    .login-form-container.active {
      display: block;
    }
    
    .login-form-container h2 {
      color: #062767;
      text-align: center;
      margin-bottom: 10px;
      font-size: 1.8rem;
    }
    
    .form-subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 25px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .input-with-icon {
      position: relative;
    }
    
    .input-with-icon i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #aaa;
    }
    
    .input-with-icon input {
      padding-left: 40px !important;
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 1rem;
    }
    
    .form-options {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .remember-me {
      display: flex;
      align-items: center;
    }
    
    .remember-me input {
      margin-right: 8px;
    }
    
    .forgot-password a {
      color: #062767;
      text-decoration: none;
    }
    
    .forgot-password a:hover {
      text-decoration: underline;
    }
    
    .error-message {
      color: #e74c3c;
      margin-top: 5px;
      margin-bottom: 15px;
      font-size: 0.9rem;
      min-height: 20px;
      display: none;
    }
    
    .error-message.show {
      display: block;
    }
    
    .success-message {
      color: #2ecc71;
      margin-top: 5px;
      margin-bottom: 15px;
      font-size: 0.9rem;
      min-height: 20px;
      display: none;
    }
    
    .success-message.show {
      display: block;
    }
    
    .form-actions {
      margin-top: 20px;
    }
    
    .btn-primary {
      width: 100%;
      padding: 12px;
      background-color: #b19763;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .btn-primary:hover {
      background-color: #a48852;
    }
    
    .btn-primary i {
      margin-right: 8px;
    }
    
    .login-footer {
      text-align: center;
      margin-top: 20px;
      color: #666;
    }
    
    .login-footer a {
      color: #062767;
      text-decoration: none;
    }
    
    .login-footer a:hover {
      text-decoration: underline;
    }
    
    .login-footer-main {
      text-align: center;
      margin-top: 20px;
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9rem;
    }
    
    .terms-checkbox {
      display: flex;
      align-items: flex-start;
    }
    
    .terms-checkbox input {
      margin-right: 10px;
      margin-top: 4px;
    }
    
    .password-strength {
      margin-top: 10px;
    }
    
    .strength-meter {
      height: 5px;
      background-color: #eee;
      border-radius: 3px;
      margin-bottom: 5px;
    }
    
    .strength-meter-fill {
      height: 100%;
      border-radius: 3px;
      transition: width 0.3s;
    }
    
    .strength-meter-fill[data-strength="0"] {
      width: 20%;
      background-color: #e74c3c;
    }
    
    .strength-meter-fill[data-strength="1"] {
      width: 40%;
      background-color: #f39c12;
    }
    
    .strength-meter-fill[data-strength="2"] {
      width: 60%;
      background-color: #f1c40f;
    }
    
    .strength-meter-fill[data-strength="3"] {
      width: 80%;
      background-color: #2ecc71;
    }
    
    .strength-meter-fill[data-strength="4"] {
      width: 100%;
      background-color: #27ae60;
    }
    
    .strength-text {
      font-size: 0.8rem;
      color: #777;
    }
    
    /* Modal styles for Terms & Conditions */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }
    
    .modal.show {
      display: flex;
    }
    
    .modal-content {
      background-color: white;
      border-radius: 8px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    
    .modal-header h3 {
      margin: 0;
      color: var(--primary-color);
    }
    
    .close-modal {
      background: none;
      border: none;
      font-size: 1.5rem;
      line-height: 1;
      cursor: pointer;
      color: #777;
    }
    
    .modal-body {
      margin-bottom: 20px;
    }
    
    .modal-footer {
      text-align: right;
      padding-top: 15px;
      border-top: 1px solid #eee;
    }
    
    .modal-footer button {
      padding: 8px 16px;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    /* Demo Notice Styles */
    .demo-notice {
      margin-top: 20px;
    }
    
    .demo-box {
      background-color: #f8f9fa;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
    }
    
    .demo-box h3 {
      color: #062767;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }
    
    .demo-box h3 i {
      margin-right: 8px;
      color: #b19763;
    }
    
    .sample-email {
      background-color: white;
      border: 1px solid #eee;
      border-radius: 5px;
      margin: 15px 0;
      overflow: hidden;
    }
    
    .email-header {
      background-color: #f5f5f5;
      padding: 10px;
      border-bottom: 1px solid #eee;
      font-size: 0.9rem;
    }
    
    .email-body {
      padding: 15px;
      font-size: 0.9rem;
    }
    
    .email-button {
      background-color: #062767;
      color: white;
      text-align: center;
      padding: 10px;
      margin: 15px auto;
      width: 180px;
      border-radius: 5px;
      font-weight: 600;
      cursor: pointer; /* Add cursor pointer to make it look clickable */
    }
    
    .email-button:hover {
      background-color: #0b3a84; /* Add hover effect */
      box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* Add shadow on hover */
    }
    
    .btn-secondary {
      background-color: white;
      color: #062767;
      border: 1px solid #062767;
      padding: 8px 16px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      margin: 0 auto;
    }
    
    .btn-secondary i {
      margin-right: 8px;
    }
    
    .btn-secondary:hover {
      background-color: #f0f0f0;
    }
    
    @media (max-width: 480px) {
      .login-container {
        width: 95%;
      }
      
      .login-form-container {
        padding: 20px;
      }
      
      .form-options {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .forgot-password {
        margin-top: 10px;
      }
    }
  </style>
</head>
<body class="login-body">
<div class="login-container">
<div class="login-box">
<!-- Logo -->
<div class="login-logo">
<img alt="Backsure Global Support" src="Logo.png"/>
</div>
<!-- Login Form -->
<div class="login-form-container active" id="login-form-container">
<h2>Admin Login</h2>
<p class="form-subtitle">Sign in to access your dashboard</p>
<div id="login-error"><script>
const urlParams = new URLSearchParams(window.location.search);
const error = urlParams.get('error');
if (error === 'invalid') {
  document.write('<p class="error-msg">Invalid email or password.</p>');
} else if (error === 'empty') {
  document.write('<p class="error-msg">Please enter both email and password.</p>');
} else if (error === 'inactive') {
  document.write('<p class="error-msg">Your account is inactive. Contact Super Admin.</p>');
}
</script></div><form action="admin-login-process.php" id="loginForm" method="POST">
<div class="form-group">
<label for="username">Username or Email</label>
<div class="input-with-icon">
<i class="fas fa-user"></i>
<input id="username" name="username" required="" type="text"/>
</div>
</div>
<div class="form-group">
<label for="password">Password</label>
<div class="input-with-icon">
<i class="fas fa-lock"></i>
<input id="password" name="password" required="" type="password"/>
</div>
</div>
<div class="form-options">
<div class="remember-me">
<input id="remember" name="remember" type="checkbox"/>
<label for="remember">Remember me</label>
</div>
<div class="forgot-password">
<a href="#" id="forgot-password-link">Forgot Password?</a>
</div>
</div>
<div class="error-message" id="error-message"></div>
<div class="form-actions">
<button class="btn-primary" type="submit">
<i class="fas fa-sign-in-alt"></i> Login
            </button>
</div>
</form><p class="forgot-link"><a href="forgot-password.html">Forgot Password?</a></p>
<div class="login-footer">
<p>Don't have an account? <a href="#" id="signup-link">Sign Up</a></p>
</div>
</div>
<!-- Forgot Password Form -->
<div class="login-form-container" id="forgot-password-container">
<h2>Reset Password</h2>
<p class="form-subtitle">Enter your email address to receive a reset link</p>
<form action="forgot-password-process.php" id="forgot-password-form" method="POST">
<div class="form-group">
<label for="reset-email">Email Address</label>
<div class="input-with-icon">
<i class="fas fa-envelope"></i>
<input id="reset-email" name="email" required="" type="email"/>
</div>
</div>
<div class="error-message" id="forgot-error-message"></div>
<div class="success-message" id="forgot-success-message"></div>
<div class="form-actions">
<button class="btn-primary" type="submit">
<i class="fas fa-paper-plane"></i> Send Reset Link
            </button>
</div>
</form>
<div class="login-footer">
<p><a href="#" id="back-to-login-link">Back to Login</a></p>
</div>
</div>
<!-- Sign Up Form -->
<div class="login-form-container" id="signup-container">
<h2>Create Account</h2>
<p class="form-subtitle">Sign up for administrative access</p>
<form id="signup-form">
<div class="form-group">
<label for="fullname">Full Name</label>
<div class="input-with-icon">
<i class="fas fa-user"></i>
<input id="fullname" name="fullname" required="" type="text"/>
</div>
</div>
<div class="form-group">
<label for="signup-email">Email Address</label>
<div class="input-with-icon">
<i class="fas fa-envelope"></i>
<input id="signup-email" name="email" required="" type="email"/>
</div>
</div>
<div class="form-group">
<label for="signup-username">Username</label>
<div class="input-with-icon">
<i class="fas fa-user-tag"></i>
<input id="signup-username" name="username" required="" type="text"/>
</div>
</div>
<div class="form-group">
<label for="signup-password">Password</label>
<div class="input-with-icon">
<i class="fas fa-lock"></i>
<input id="signup-password" name="password" required="" type="password"/>
</div>
<div class="password-strength">
<div class="strength-meter">
<div class="strength-meter-fill" data-strength="0"></div>
</div>
<div class="strength-text">Password strength: <span>Too weak</span></div>
</div>
</div>
<div class="form-group">
<label for="confirm-password">Confirm Password</label>
<div class="input-with-icon">
<i class="fas fa-lock"></i>
<input id="confirm-password" name="confirm-password" required="" type="password"/>
</div>
</div>
<div class="form-group">
<div class="terms-checkbox">
<input id="terms" name="terms" required="" type="checkbox"/>
<label for="terms">I agree to the <a href="#" id="terms-link">Terms &amp; Conditions</a></label>
</div>
</div>
<div class="error-message" id="signup-error-message"></div>
<div class="success-message" id="signup-success-message"></div>
<!-- Demo Notice Section -->
<div class="demo-notice" id="demo-notice" style="display: none;">
<div class="demo-box">
<h3><i class="fas fa-info-circle"></i> Demo Mode Active</h3>
<p>This is a demo website. No actual emails are being sent.</p>
<p>In a real implementation, you would receive an email with a confirmation link.</p>
<div class="sample-email">
<div class="email-header">
<div><strong>From:</strong> support@backsure-global.com</div>
<div><strong>Subject:</strong> Confirm Your Backsure Global Support Account</div>
</div>
<div class="email-body">
<p>Dear <span id="sample-name">User</span>,</p>
<p>Thank you for signing up with Backsure Global Support. Please click the button below to confirm your account:</p>
<div class="email-button" id="confirm-account-btn">Confirm Account</div>
<p>If you did not create this account, please ignore this email.</p>
<p>Regards,<br/>The Backsure Global Support Team</p>
</div>
</div>
<button class="btn-secondary" id="fake-resend">
<i class="fas fa-paper-plane"></i> Simulate Resend
              </button>
</div>
</div>
<div class="form-actions">
<button class="btn-primary" type="submit">
<i class="fas fa-user-plus"></i> Sign Up
            </button>
</div>
</form>
<div class="login-footer">
<p>Already have an account? <a href="#" id="login-link">Login</a></p>
</div>
</div>
</div>
<div class="login-footer-main">
<p>© 2025 Backsure Global Support. All rights reserved.</p>
</div>
</div>
<!-- Terms and Conditions Modal -->
<div class="modal" id="terms-modal">
<div class="modal-content">
<div class="modal-header">
<h3>Terms and Conditions</h3>
<button class="close-modal">×</button>
</div>
<div class="modal-body">
<h4>1. Acceptance of Terms</h4>
<p>By accessing and using the administrative services of Backsure Global Support, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions.</p>
<h4>2. Account Responsibilities</h4>
<p>You are responsible for maintaining the confidentiality of your account information, including your password, and for all activity that occurs under your account. You agree to notify us immediately of any unauthorized use of your account.</p>
<h4>3. Acceptable Use</h4>
<p>You agree to use the administrative access only for legitimate business purposes related to Backsure Global Support. Any unauthorized use, including but not limited to data mining, scraping, or accessing data not intended for you, is strictly prohibited.</p>
<h4>4. Privacy and Data Protection</h4>
<p>You acknowledge that you will handle all client and company data in accordance with applicable privacy laws and Backsure Global Support's privacy policies.</p>
<h4>5. Intellectual Property</h4>
<p>All content, features, and functionality of the administrative interface are the exclusive property of Backsure Global Support and are protected by international copyright, trademark, and other intellectual property laws.</p>
<h4>6. Termination</h4>
<p>Backsure Global Support reserves the right to terminate or suspend your access to the administrative interface at any time, without prior notice or liability, for any reason.</p>
<h4>7. Changes to Terms</h4>
<p>Backsure Global Support reserves the right to modify these Terms and Conditions at any time. Your continued use of the administrative interface following the posting of revised Terms and Conditions means you accept and agree to the changes.</p>
<h4>8. Limitation of Liability</h4>
<p>In no event shall Backsure Global Support be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of the administrative interface.</p>
<h4>9. Governing Law</h4>
<p>These Terms and Conditions shall be governed by and construed in accordance with the laws of the jurisdiction in which Backsure Global Support is registered, without regard to its conflict of law provisions.</p>
</div>
<div class="modal-footer">
<button id="accept-terms">I Understand and Accept</button>
</div>
</div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get form containers
      const loginContainer = document.getElementById('login-form-container');
      const forgotContainer = document.getElementById('forgot-password-container');
      const signupContainer = document.getElementById('signup-container');
      
      // Get forms
      const loginForm = document.getElementById('admin-login-form');
      const forgotForm = document.getElementById('forgot-password-form');
      const signupForm = document.getElementById('signup-form');
      
      // Get navigation links
      const forgotPasswordLink = document.getElementById('forgot-password-link');
      const signupLink = document.getElementById('signup-link');
      const loginLink = document.getElementById('login-link');
      const backToLoginLink = document.getElementById('back-to-login-link');
      
      // Terms and conditions modal elements
      const termsLink = document.getElementById('terms-link');
      const termsModal = document.getElementById('terms-modal');
      const closeModal = termsModal.querySelector('.close-modal');
      const acceptTermsBtn = document.getElementById('accept-terms');
      const termsCheckbox = document.getElementById('terms');
      
      // Show terms and conditions modal
      if (termsLink) {
        termsLink.addEventListener('click', function(e) {
          e.preventDefault();
          termsModal.classList.add('show');
        });
      }
      
      // Close terms modal when clicking the close button
      if (closeModal) {
        closeModal.addEventListener('click', function() {
          termsModal.classList.remove('show');
        });
      }
      
      // Accept terms and close modal
      if (acceptTermsBtn) {
        acceptTermsBtn.addEventListener('click', function() {
          termsCheckbox.checked = true;
          termsModal.classList.remove('show');
        });
      }
      
      // Close modal when clicking outside the content
      window.addEventListener('click', function(e) {
        if (e.target === termsModal) {
          termsModal.classList.remove('show');
        }
      });
      
      // Function to show a form container
      function showFormContainer(container) {
        console.log('Showing container:', container.id);
        // Hide all containers
        document.querySelectorAll('.login-form-container').forEach(function(c) {
          c.classList.remove('active');
        });
        
        // Show selected container
        container.classList.add('active');
      }
      
      // Switch between forms
      if (forgotPasswordLink) {
        forgotPasswordLink.addEventListener('click', function(e) {
          e.preventDefault();
          showFormContainer(forgotContainer);
        });
      }
      
      if (signupLink) {
        signupLink.addEventListener('click', function(e) {
          e.preventDefault();
          console.log('Signup link clicked');
          showFormContainer(signupContainer);
        });
      }
      
      if (loginLink) {
        loginLink.addEventListener('click', function(e) {
          e.preventDefault();
          showFormContainer(loginContainer);
        });
      }
      
      if (backToLoginLink) {
        backToLoginLink.addEventListener('click', function(e) {
          e.preventDefault();
          showFormContainer(loginContainer);
        });
      }
      
      // Login form submission
      if (loginForm) {
        loginForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Clear previous error messages
          clearErrorMessages();
          
          // Get form values
          const username = document.getElementById('username').value.trim();
          const password = document.getElementById('password').value.trim();
          const rememberMe = document.getElementById('remember') ? document.getElementById('remember').checked : false;
          
          // Validate form
          if (!username || !password) {
            showErrorMessage('error-message', 'Please enter both username and password');
            return;
          }
          
          // Show loading state
          const submitBtn = loginForm.querySelector('button[type="submit"]');
          const originalText = submitBtn.innerHTML;
          submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Logging in...';
          submitBtn.disabled = true;
          
          // Simulate login (for demo)
          setTimeout(() => {
            // First check admin credentials
            if ((username === 'admin' && password === 'admin123') || 
                (username === 'admin@example.com' && password === 'admin123')) {
              // Success - redirect to dashboard
              window.location.href = 'admin-dashboard.html';
              return;
            }
            
            // Check against registered users in localStorage
            const users = JSON.parse(localStorage.getItem('demoUsers') || '[]');
            const user = users.find(user => 
              (user.username === username || user.email === username) && 
              user.password === password
            );
            
            if (user) {
              // User found, log them in
              // Update login time
              user.lastLogin = new Date().toISOString();
              localStorage.setItem('demoUsers', JSON.stringify(users));
              
              // Store logged in user
              localStorage.setItem('currentUser', JSON.stringify(user));
              
              // Redirect to dashboard
              window.location.href = 'admin-dashboard.html';
            } else {
              // Error - show message
              showErrorMessage('error-message', 'Invalid username or password');
              submitBtn.innerHTML = originalText;
              submitBtn.disabled = false;
            }
          }, 1000);
        });
      }
      
      // Forgot password form submission
      if (forgotForm) {
        forgotForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Clear previous messages
          clearErrorMessages();
          
          // Get email
          const email = document.getElementById('reset-email').value.trim();
          
          // Validate email
          if (!email) {
            showErrorMessage('forgot-error-message', 'Please enter your email address');
            return;
          }
          
          if (!isValidEmail(email)) {
            showErrorMessage('forgot-error-message', 'Please enter a valid email address');
            return;
          }
          
          // Show loading state
          const submitBtn = forgotForm.querySelector('button[type="submit"]');
          const originalText = submitBtn.innerHTML;
          submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
          submitBtn.disabled = true;
          
          // Simulate sending reset email (for demo)
          setTimeout(() => {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            
            // Show success message
            showSuccessMessage('forgot-success-message', 'Password reset instructions have been sent to your email address. Please check your inbox.');
            
            // Clear the form
            forgotForm.reset();
          }, 1500);
        });
      }
      
      // Signup form submission
      if (signupForm) {
        signupForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Clear previous messages
          clearErrorMessages();
          
          // Get form values
          const fullname = document.getElementById('fullname').value.trim();
          const email = document.getElementById('signup-email').value.trim();
          const username = document.getElementById('signup-username').value.trim();
          const password = document.getElementById('signup-password').value.trim();
          const confirmPassword = document.getElementById('confirm-password').value.trim();
          const termsAccepted = document.getElementById('terms').checked;
          
          // Validate form
          if (!fullname || !email || !username || !password || !confirmPassword) {
            showErrorMessage('signup-error-message', 'Please fill in all fields');
            return;
          }
          
          if (!isValidEmail(email)) {
            showErrorMessage('signup-error-message', 'Please enter a valid email address');
            return;
          }
          
          if (password.length < 8) {
            showErrorMessage('signup-error-message', 'Password must be at least 8 characters long');
            return;
          }

          if (password !== confirmPassword) {
            showErrorMessage('signup-error-message', 'Passwords do not match');
            return;
          }
          
          if (!termsAccepted) {
            showErrorMessage('signup-error-message', 'You must agree to the Terms & Conditions');
            return;
          }
         
          // Calculate password strength
          const strength = calculatePasswordStrength(password);
          if (strength < 2) {
            showErrorMessage('signup-error-message', 'Please choose a stronger password');
            return;
          }
          
          // Show loading state
          const submitBtn = signupForm.querySelector('button[type="submit"]');
          const originalText = submitBtn.innerHTML;
          submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
          submitBtn.disabled = true;
          
          // Simulate account creation (for demo)
          setTimeout(() => {
            // Check if username/email exists
            if (username === 'admin' || email === 'admin@example.com') {
              showErrorMessage('signup-error-message', 'This username or email is already registered');
              submitBtn.innerHTML = originalText;
              submitBtn.disabled = false;
              return;
            }
            
            // Reset button
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
            
            // Store the user credentials in localStorage so they can actually log in
            const userData = {
              username: username,
              email: email,
              password: password,
              fullname: fullname,
              role: 'user',
              lastLogin: new Date().toISOString()
            };
            
            // Save to localStorage
            let users = JSON.parse(localStorage.getItem('demoUsers') || '[]');
            users.push(userData);
            localStorage.setItem('demoUsers', JSON.stringify(users));
            
            // Show success message
            showSuccessMessage('signup-success-message', 'Account created successfully! In this demo, no actual email is sent.');
            
            // Show demo notice
            const demoNotice = document.getElementById('demo-notice');
            if (demoNotice) {
              demoNotice.style.display = 'block';
              
              // Update sample name in the email template
              const sampleName = document.getElementById('sample-name');
              if (sampleName && fullname) {
                sampleName.textContent = fullname.split(' ')[0]; // Just use the first name
              }
              
              // Add confirm button click handler
              const confirmAccountBtn = document.getElementById('confirm-account-btn');
              if (confirmAccountBtn) {
                confirmAccountBtn.style.cursor = 'pointer';
                confirmAccountBtn.addEventListener('click', function() {
                  // Navigate to login form with username pre-filled
                  showFormContainer(loginContainer);
                  
                  // Pre-fill username field with the email or username they registered with
                  const loginUsernameField = document.getElementById('username');
                  if (loginUsernameField) {
                    loginUsernameField.value = email; // Use their email
                  }
                  
                  // Show success message in login form
                  showSuccessMessage('error-message', 'Email confirmed! You can now log in with your credentials.');
                });
              }
            }
            
            // Add resend button handler
            const fakeResendBtn = document.getElementById('fake-resend');
            if (fakeResendBtn) {
              fakeResendBtn.addEventListener('click', function() {
                const originalBtnText = this.innerHTML;
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                this.disabled = true;
                
                setTimeout(() => {
                  this.innerHTML = originalBtnText;
                  this.disabled = false;
                  alert('In a real implementation, a new confirmation email would be sent.');
                }, 1500);
              });
            }
            
            // Reset form fields but keep demo notice visible
            document.getElementById('fullname').value = '';
            document.getElementById('signup-email').value = '';
            document.getElementById('signup-username').value = '';
            document.getElementById('signup-password').value = '';
            document.getElementById('confirm-password').value = '';
            document.getElementById('terms').checked = false;
            
            // Update password strength
            updatePasswordStrength('');
            
            // We won't automatically redirect - let the user click the confirm button instead
          }, 1500);
        });
      }
      
      // Password strength meter
      const passwordInput = document.getElementById('signup-password');
      if (passwordInput) {
        passwordInput.addEventListener('input', function() {
          const password = this.value;
          updatePasswordStrength(password);
        });
      }
    });

    // Utility functions
    function clearErrorMessages() {
      const errorMessages = document.querySelectorAll('.error-message');
      const successMessages = document.querySelectorAll('.success-message');
      
      errorMessages.forEach(msg => {
        msg.textContent = '';
        msg.classList.remove('show');
      });
      
      successMessages.forEach(msg => {
        msg.textContent = '';
        msg.classList.remove('show');
      });
      
      // Don't hide demo notice when clearing messages
      const demoNotice = document.getElementById('demo-notice');
      if (demoNotice && demoNotice.style.display === 'block') {
        // Keep demo notice visible
      }
    }

    function showErrorMessage(elementId, message) {
      const element = document.getElementById(elementId);
      
      if (element) {
        element.textContent = message;
        element.classList.add('show');
      }
    }

    function showSuccessMessage(elementId, message) {
      const element = document.getElementById(elementId);
      
      if (element) {
        element.textContent = message;
        element.classList.add('show');
      }
    }

    function isValidEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    function calculatePasswordStrength(password) {
      let score = 0;
      
      // Length check
      if (password.length >= 8) score++;
      if (password.length >= 12) score++;
      
      // Complexity checks
      if (/[0-9]/.test(password)) score++;
      if (/[a-z]/.test(password) && /[A-Z]/.test(password)) score++;
      if (/[^a-zA-Z0-9]/.test(password)) score++;
      
      // Cap score at 4
      return Math.min(4, score);
    }

    function updatePasswordStrength(password) {
      const strengthMeter = document.querySelector('.strength-meter-fill');
      const strengthText = document.querySelector('.strength-text span');
      
      if (!strengthMeter || !strengthText) return;
      
      if (!password) {
        strengthMeter.setAttribute('data-strength', '0');
        strengthText.textContent = 'Too weak';
        return;
      }
      
      const score = calculatePasswordStrength(password);
      
      // Update strength meter
      strengthMeter.setAttribute('data-strength', score.toString());
      
      // Update strength text
      switch (score) {
        case 0:
          strengthText.textContent = 'Too weak';
          break;
        case 1:
          strengthText.textContent = 'Weak';
          break;
        case 2:
          strengthText.textContent = 'Medium';
          break;
        case 3:
          strengthText.textContent = 'Strong';
          break;
        case 4:
          strengthText.textContent = 'Very strong';
          break;
      }
    }
  </script>
<script src="admin.js"></script></body>
</html>
